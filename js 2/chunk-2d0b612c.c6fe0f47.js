(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b612c"],{"1c37":function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"table"},[l("div",{staticClass:"container"},[l("el-row",{staticClass:"handle-box",attrs:{gutter:10}},[l("el-col",{attrs:{md:3}},[l("el-select",{attrs:{filterable:"",clearable:"",placeholder:"状态"},model:{value:e.statusValue,callback:function(t){e.statusValue=t},expression:"statusValue"}},e._l(e.statusOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),l("el-col",{attrs:{md:3}},[l("el-select",{attrs:{filterable:"",clearable:"",placeholder:"报警类型"},model:{value:e.alarmTypeValue,callback:function(t){e.alarmTypeValue=t},expression:"alarmTypeValue"}},e._l(e.alarmTypeOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),l("el-col",{attrs:{md:3}},[l("el-select",{attrs:{filterable:"",clearable:"",placeholder:"报警结束方式"},model:{value:e.finshValue,callback:function(t){e.finshValue=t},expression:"finshValue"}},e._l(e.finshOptions,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),l("el-col",{attrs:{md:7}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.dateValue,callback:function(t){e.dateValue=t},expression:"dateValue"}})],1),l("el-col",{attrs:{md:6}},[l("el-input",{staticClass:" mr10",attrs:{placeholder:"IMEI"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.selectWord,callback:function(t){e.selectWord=t},expression:"selectWord"}},[l("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.search},slot:"append"},[e._v("搜索")])],1)],1),l("el-col",{attrs:{md:2}},[l("el-button",{staticClass:"r",staticStyle:{"margin-left":"10px"},attrs:{type:"primary"}},[e._v("导出")])],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,height:e.tableHeight,align:"center"},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{type:"selection",width:"55",align:"center","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"id",label:"ID",width:"100",align:"center","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"time",label:"报警时间",align:"center","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"type",label:"报警类型",align:"center","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"imei",label:"IMEI",align:"center","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"name",label:"用户名",align:"center","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"phone",label:"电话",align:"center","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"group",label:"分组",align:"center","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"ten",label:"十户联防",align:"center","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"status",label:"状态",align:"center","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{label:"操作",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["待处理"!==t.row.status?l("el-button",{attrs:{type:"text",icon:"el-icon-view"},on:{click:function(l){return e.handleDetail(t.$index,t.row)}}},[e._v("处理详情")]):e._e()]}}])})],1),l("div",{staticClass:"pagination"},[l("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:30},on:{"current-change":e.handleCurrentChange}})],1)],1),l("record-detail-dialog",{attrs:{show:e.recordDetailDialogVisible},on:{"update:show":function(t){e.recordDetailDialogVisible=t}}})],1)},o=[],n=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-dialog",{attrs:{title:"处理详情",visible:e.visible},on:{"update:visible":function(t){e.visible=t},close:function(t){return e.closeDialog()}}},[l("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"报警开始时间"}},[l("el-input",{attrs:{readonly:""},model:{value:e.form.alarmStartTime,callback:function(t){e.$set(e.form,"alarmStartTime",t)},expression:"form.alarmStartTime"}})],1),l("el-form-item",{attrs:{label:"报警结束时间"}},[l("el-input",{attrs:{readonly:""},model:{value:e.form.alarmEndTime,callback:function(t){e.$set(e.form,"alarmEndTime",t)},expression:"form.alarmEndTime"}})],1),l("el-form-item",{attrs:{label:"报警结束方式"}},[l("el-input",{attrs:{readonly:""},model:{value:e.form.alarmEndType,callback:function(t){e.$set(e.form,"alarmEndType",t)},expression:"form.alarmEndType"}})],1),l("el-form-item",{attrs:{label:"审核结果"}},[l("el-input",{attrs:{readonly:""},model:{value:e.form.result,callback:function(t){e.$set(e.form,"result",t)},expression:"form.result"}})],1),l("el-form-item",{attrs:{label:"处理人"}},[l("el-input",{attrs:{readonly:""},model:{value:e.form.handler,callback:function(t){e.$set(e.form,"handler",t)},expression:"form.handler"}})],1),l("el-form-item",{attrs:{label:"处理时间"}},[l("el-input",{attrs:{readonly:""},model:{value:e.form.handleTime,callback:function(t){e.$set(e.form,"handleTime",t)},expression:"form.handleTime"}})],1)],1),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.comfirm()}}},[e._v("确 定")])],1)],1)],1)},i=[],r={name:"record-detail-dialog",data:function(){return{visible:this.show,form:{alarmStartTime:"",alarmEndTime:"",alarmEndType:"",result:"",handler:"",handleTime:""}}},props:{show:{type:Boolean,default:!1},EDIT:{type:String},datas:{type:Object}},watch:{show:function(){var e=this;void 0!==this.datas&&this.datas!=={}&&this.$nextTick(function(){e.form=e.datas}),this.visible=this.show}},created:function(){},methods:{comfirm:function(){this.visible=!1},closeDialog:function(){this.form={alarmStartTime:"",alarmEndTime:"",alarmEndType:"",result:"",handler:"",handleTime:""},this.$emit("update:show",!1)}}},s=r,c=l("2877"),u=Object(c["a"])(s,n,i,!1,null,null,null),p=u.exports,d={name:"alarm-record",components:{recordDetailDialog:p},data:function(){return{tableData:[],loading:!1,cur_page:1,multipleSelection:[],selectWord:"",idx:-1,statusValue:"",statusOptions:[],alarmTypeOptions:[],alarmTypeValue:"",finshOptions:[],finshValue:"",dateValue:"",recordDetailDialogVisible:!1}},created:function(){this.getStatusOptions(),this.getAlarmTypeOptions(),this.getFinshOptions(),this.getData()},computed:{tableHeight:function(){return window.innerHeight-218+"px"}},methods:{handleCurrentChange:function(e){this.cur_page=e,this.getData()},getData:function(){var e=this;this.loading=!0,this.$api.alarmRecord.getAlarmRecordList().then(function(t){e.tableData=t.list,e.loading=!1}).catch(function(t){e.loading=!1})},getStatusOptions:function(){var e=this;this.$api.alarmRecord.getStatusOptions().then(function(t){e.statusOptions=t.list}).catch(function(e){})},getAlarmTypeOptions:function(){var e=this;this.$api.alarmRecord.getAlarmTypeOptions().then(function(t){e.alarmTypeOptions=t.list}).catch(function(e){})},getFinshOptions:function(){var e=this;this.$api.alarmRecord.getFinshOptions().then(function(t){e.finshOptions=t.list}).catch(function(e){})},search:function(){this.getData()},handleDetail:function(e,t){this.recordDetailDialogVisible=!0},handleSelectionChange:function(e){this.multipleSelection=e}}},m=d,f=Object(c["a"])(m,a,o,!1,null,null,null);t["default"]=f.exports}}]);