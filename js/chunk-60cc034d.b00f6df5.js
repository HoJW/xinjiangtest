(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60cc034d"],{"1e45":function(e,t,a){"use strict";var l=a("a207"),i=a.n(l);i.a},4773:function(e,t,a){},"9d93":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("div",{staticClass:"container"},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"音频库管理",name:"channel"}},[a("audio-channel-manager")],1),a("el-tab-pane",{attrs:{label:"节目单管理",lazy:!0,name:"playbill"}},[a("audio-playbill-manager")],1)],1)],1)])},i=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table"},[a("div",{staticClass:"container-tab"},[a("el-row",{staticClass:"handle-box",attrs:{gutter:10}},[a("el-col",{attrs:{md:10}},[a("el-input",{staticClass:" mr10",attrs:{clearable:"",placeholder:"输入音频名字/ID"},on:{clear:function(t){return e.updataTable(!0)}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.selectWord,callback:function(t){e.selectWord=t},expression:"selectWord"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.search},slot:"append"},[e._v("搜索")])],1)],1),a("el-col",{attrs:{md:14}},[a("el-button",{staticClass:"r",staticStyle:{"margin-left":"10px"},attrs:{type:"danger",disabled:0==e.multipleSelection.length},on:{click:function(t){return e.handleDelete()}}},[a("i",{staticClass:"el-icon-delete el-icon--left"}),e._v("删除")]),a("el-button",{staticClass:"r",attrs:{type:"primary"},on:{click:function(t){return e.getData()}}},[a("i",{staticClass:"el-icon-refresh el-icon--left"}),e._v("刷新")]),a("el-button",{staticClass:"r",attrs:{type:"success"},on:{click:function(t){return e.addAudio()}}},[a("i",{staticClass:"el-icon-plus el-icon--left"}),e._v("添加")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,height:e.tableHeight,"row-key":e.getRowKeys,align:"center"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection","reserve-selection":!0,width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"audioName",label:"音频名字",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"audioOldName",label:"音频原名字",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"audioUrl",label:"音频路径",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"audioSize",label:"文件大小",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"audioMin",label:"音频长度",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"操作",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"===t.row.auditFlag?a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]):e._e(),"1"===t.row.auditFlag?a("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")]):e._e(),"2"===t.row.auditFlag?a("el-button",{staticClass:"green",attrs:{type:"text",icon:"el-icon-reading"},on:{click:function(a){return e.handleApprove(t.$index,t.row)}}},[e._v("待审批")]):e._e(),"0"===t.row.auditFlag?a("p",[e._v("审批中")]):e._e()]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.totalCount},on:{"current-change":e.handleCurrentChange}})],1)],1),a("audio-channel-add-dialog",{attrs:{updataTable:e.updataTable,EDIT:e.audioChannelAddDialog.edit,datas:e.audioChannelAddDialog.data,title:e.audioChannelAddDialog.title,show:e.audioChannelAddDialog.visible},on:{"update:show":function(t){return e.$set(e.audioChannelAddDialog,"visible",t)}}}),a("audio-approve-dialog",{attrs:{updataTable:e.updataTable,datas:e.audioApproveDialog.data,show:e.audioApproveDialog.visible},on:{"update:show":function(t){return e.$set(e.audioApproveDialog,"visible",t)}}})],1)},n=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.visible},on:{"update:visible":function(t){e.visible=t},close:function(t){return e.closeDialog()}}},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,"label-width":"100px",rules:e.rules,"show-message":!1}},[a("el-form-item",{attrs:{label:"音频原名字",prop:"audioName"}},[a("el-input",{attrs:{maxlength:"15","show-word-limit":"",placeholder:"输入15个字符长度以内的名称"},model:{value:e.form.audioName,callback:function(t){e.$set(e.form,"audioName",t)},expression:"form.audioName"}})],1),a("el-form-item",{attrs:{label:"音频名字",prop:"audioNameRealNameValue"}},[a("el-select",{attrs:{disabled:e.edit,placeholder:"请选择"},model:{value:e.form.audioNameRealNameValue,callback:function(t){e.$set(e.form,"audioNameRealNameValue",t)},expression:"form.audioNameRealNameValue"}},e._l(e.audioNameRealNameOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"上传文件",prop:"audioFile"}},[a("el-input",{staticClass:"upload-input-box",attrs:{placeholder:"",readonly:""},model:{value:e.form.audioFile,callback:function(t){e.$set(e.form,"audioFile",t)},expression:"form.audioFile"}},[a("el-upload",{ref:"upload",staticClass:"upload-btn-box r",attrs:{slot:"append",action:"/network-speaker-web/audio/uploadAudio","show-file-list":!1,"on-success":e.handleUploadSuccess,"on-error":e.handleUploadErroe,"before-upload":e.handleBeforeUpload,limit:1,"file-list":e.fileList},slot:"append"},[!1===e.edit?a("el-button",{attrs:{loading:e.uploadBtnLoading}},[e.uploadBtnLoading?e._e():a("i",{staticClass:"el-icon-upload el-icon--left"}),e._v("上传")]):e._e(),!0===e.edit?a("el-button",{attrs:{loading:e.uploadBtnLoading}},[e.uploadBtnLoading?e._e():a("i",{staticClass:"el-icon-upload el-icon--left"}),e._v("替换")]):e._e()],1)],1)],1),a("el-form-item",{attrs:{label:"音频路径"}},[a("el-input",{attrs:{readonly:""},model:{value:e.form.audioPath,callback:function(t){e.$set(e.form,"audioPath",t)},expression:"form.audioPath"}})],1),a("el-form-item",{attrs:{label:"音频格式"}},[a("el-input",{attrs:{readonly:""},model:{value:e.form.audioForm,callback:function(t){e.$set(e.form,"audioForm",t)},expression:"form.audioForm"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.comfirm()}}},[e._v("确 定")])],1)],1)],1)},s=[],d=(a("28a5"),{name:"audio-channel-add-dialog",data:function(){return{visible:this.show,edit:this.EDIT,dialogTitle:this.title,form:{audioId:"",audioName:"",audioNameRealNameValue:"",audioFile:"",audioPath:"",audioForm:""},audioNameRealNameOptions:[{value:"MP3A.ARM",label:"MP3A.ARM"},{value:"MP3B.ARM",label:"MP3B.ARM"},{value:"MP3C.ARM",label:"MP3C.ARM"},{value:"MP3D.ARM",label:"MP3D.ARM"},{value:"MP3E.ARM",label:"MP3E.ARM"},{value:"MP3F.ARM",label:"MP3F.ARM"},{value:"MP3G.ARM",label:"MP3G.ARM"},{value:"MP3H.ARM",label:"MP3H.ARM"},{value:"MP3I.ARM",label:"MP3I.ARM"},{value:"MP3J.ARM",label:"MP3J.ARM"},{value:"MP3K.ARM",label:"MP3K.ARM"},{value:"MP3L.ARM",label:"MP3L.ARM"},{value:"MP3M.ARM",label:"MP3M.ARM"},{value:"MP3N.ARM",label:"MP3N.ARM"},{value:"MP3O.ARM",label:"MP3O.ARM"},{value:"MP3P.ARM",label:"MP3P.ARM"}],rules:{audioNameRealNameValue:[{required:!0}],audioName:[{required:!0}],audioFile:[{required:!0}]},fileList:[],uploadBtnLoading:!1,uploadBtnLabel:"导入"}},props:{show:{type:Boolean,default:!1},EDIT:{type:Boolean},datas:{type:Object},title:{type:String,default:""},updataTable:{type:Function,default:null}},watch:{show:function(){var e=this;this.$nextTick(function(){if(void 0!==e.datas&&e.datas!=={}&&e.visible){var t=[];e.datas.audioOldName&&(t=e.datas.audioOldName.split(".")),e.form={audioId:e.datas.id,audioName:e.datas.audioOldName,audioNameRealNameValue:e.datas.audioName,audioFile:e.datas.audioOldName,audioPath:e.datas.audioUrl,audioForm:t.length>0?t[t.length-1]:""}}}),this.edit=this.EDIT,this.dialogTitle=this.title,this.visible=this.show}},created:function(){},methods:{comfirm:function(){var e=this;if(!this.checkForm()){var t={audioType:0,audioName:this.form.audioNameRealNameValue,audioOldName:this.form.audioName,audioUrl:this.form.audioPath};this.edit?(t.id=this.form.audioId,this.$api.audioManager.updateAudioManagerAudio(t).then(function(t){e.visible=!1,e.$message.success("更新成功"),e.updataTable(!0)}).catch(function(t){e.$message.error("更新失败，请重试")})):this.$api.audioManager.addAudioManagerAudio(t).then(function(t){e.visible=!1,e.$message.success("添加成功"),e.updataTable(!0)}).catch(function(t){e.$message.error("添加失败，请重试")})}},handleBeforeUpload:function(){this.$message("文件正在上传..."),this.uploadBtnLabel="上传中",this.uploadBtnLoading=!0},handleUploadSuccess:function(e,t,a){this.$message.success("上传成功"),this.uploadBtnLabel="导入",this.uploadBtnLoading=!1,this.fileList=[],this.form.audioForm=e.row.contextType,this.form.audioPath=e.row.filePath;var l=e.row.filePath.split("/");this.form.audioFile=l[l.length-1]},handleUploadErroe:function(){this.$message.error("上传失败，请重试!"),this.uploadBtnLabel="导入",this.uploadBtnLoading=!1,this.fileList=[]},closeDialog:function(){this.cleanForm(),this.$emit("update:show",!1)},cleanForm:function(){this.form={audioId:"",audioName:"",audioNameRealNameValue:"",audioFile:"",audioPath:"",audioForm:""},this.$refs["form"].resetFields()},checkForm:function(){return""===this.form.audioName?(this.$message.error("请填写频道名称"),!0):""===this.form.audioNameRealNameValue?(this.$message.error("请选择频道"),!0):""===this.form.audioFile&&(this.$message.error("请上传文件"),!0)}}}),u=d,c=(a("1e45"),a("2877")),p=Object(c["a"])(u,r,s,!1,null,null,null),h=p.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"音频审核",visible:e.visible},on:{"update:visible":function(t){e.visible=t},close:function(t){return e.closeDialog()}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"音频原名字"}},[a("el-input",{attrs:{readonly:""},model:{value:e.form.audioName,callback:function(t){e.$set(e.form,"audioName",t)},expression:"form.audioName"}})],1),a("el-form-item",{attrs:{label:"音频路径"}},[a("el-input",{attrs:{readonly:""},model:{value:e.form.audioPath,callback:function(t){e.$set(e.form,"audioPath",t)},expression:"form.audioPath"}})],1),a("el-form-item",{attrs:{label:"音频格式"}},[a("el-input",{attrs:{readonly:""},model:{value:e.form.audioForm,callback:function(t){e.$set(e.form,"audioForm",t)},expression:"form.audioForm"}})],1),a("el-form-item",{attrs:{label:"文件大小"}},[a("el-input",{attrs:{readonly:""},model:{value:e.form.audioSize,callback:function(t){e.$set(e.form,"audioSize",t)},expression:"form.audioSize"}})],1),a("el-form-item",{attrs:{label:"音频长度"}},[a("el-input",{attrs:{placeholder:"",readonly:""},model:{value:e.form.audioLength,callback:function(t){e.$set(e.form,"audioLength",t)},expression:"form.audioLength"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-video-play"},on:{click:function(t){return e.tryListen()}},slot:"append"},[e._v("试听")])],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.reject()}}},[e._v("不通过")]),a("el-button",{attrs:{type:"success"},on:{click:function(t){return e.agree()}}},[e._v("通过")])],1)],1)],1)},f=[],g={name:"audio-approve-dialog",data:function(){return{visible:this.show,edit:this.EDIT,form:{audioName:"",audioFile:"",audioPath:"",audioForm:"",audioSize:"",audioLength:""}}},props:{show:{type:Boolean,default:!1},EDIT:{type:String},datas:{type:Object},title:{type:String,default:""},updataTable:{type:Function,default:null}},watch:{show:function(){var e=this;this.$nextTick(function(){if(void 0!==e.datas&&e.datas!=={}){var t=e.datas.audioName.split(".");e.form={audioName:e.datas.audioName,audioFile:e.datas.audioOldName,audioPath:e.datas.audioUrl,audioForm:t[t.length-1],audioSize:e.datas.audioSize,audioLength:e.datas.audioMin}}else e.cleanForm()}),this.visible=this.show}},created:function(){},methods:{comfirm:function(){this.visible=!1},reject:function(){this.visible=!1},agree:function(){this.visible=!1},tryListen:function(){console.log("试听")},closeDialog:function(){this.cleanForm(),this.$emit("update:show",!1)},cleanForm:function(){this.form={audioName:"",audioFile:"",audioPath:"",audioForm:"",audioSize:"",audioLength:""},this.$refs["form"].resetFields()}}},b=g,v=Object(c["a"])(b,m,f,!1,null,null,null),y=v.exports,w={name:"audio-channel-manager",components:{audioChannelAddDialog:h,audioApproveDialog:y},data:function(){return{tableData:[],loading:!1,pageSize:10,pageNum:1,totalCount:0,multipleSelection:[],selectWord:"",audioChannelAddDialog:{visible:!1,title:"",edit:!1,data:{}},audioChannelAddTitle:"",audioApproveDialog:{visible:!1,title:"",edit:!1,data:{}}}},created:function(){this.getData()},computed:{tableHeight:function(){return window.innerHeight-272+"px"}},methods:{handleCurrentChange:function(e){this.pageNum=e,this.getData()},getData:function(){var e=this,t={keyword:this.selectWord,pageSize:this.pageSize,pageNum:this.pageNum};this.loading=!0,this.$api.audioManager.getAudioList(t).then(function(t){e.totalCount=t.total,e.tableData=t.list,e.loading=!1}).catch(function(t){e.loading=!1})},updataTable:function(e){e&&(this.selectWord="",this.pageNum=1),this.getData()},search:function(){this.pageNum=1,this.getData()},handleEdit:function(e,t){this.audioChannelAddDialog={visible:!0,title:"编辑音频",edit:!0,data:t}},handleDelete:function(e,t){var a=this;this.$confirm("此操作将永久删除该音频文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e="";if(t)e=t.id;else for(var l=0;l<a.multipleSelection.length;l++){var i=a.multipleSelection[l];e=e+i.id+","}a.deleteAudio(e)}).catch(function(){})},deleteAudio:function(e){var t=this,a={id:e};this.$api.audioManager.deleteAudioManagerAudio(a).then(function(e){t.$refs.multipleTable.clearSelection(),1===t.tableData.length&&1!==t.pageNum&&t.pageNum--,t.$message.success("删除成功"),t.getData()}).catch(function(e){t.$message.error("删除失败，请重试")})},handleApprove:function(e,t){this.audioApproveDialog={visible:!0,title:"",edit:!1,data:t}},handleSelectionChange:function(e){this.multipleSelection=e},getRowKeys:function(e){return e.id},addAudio:function(){this.audioChannelAddDialog={visible:!0,title:"添加音频",edit:!1,data:void 0}}}},D=w,C=Object(c["a"])(D,o,n,!1,null,"26aa9a87",null),k=C.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table"},[a("div",{staticClass:"container-tab"},[a("el-row",{staticClass:"handle-box",attrs:{gutter:10}},[a("el-col",{attrs:{md:10}},[a("el-input",{staticClass:" mr10",attrs:{clearable:"",placeholder:"输入节目单名字/ID"},on:{clear:function(t){return e.updataTable(!0)}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.selectWord,callback:function(t){e.selectWord=t},expression:"selectWord"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.search},slot:"append"},[e._v("搜索")])],1)],1),a("el-col",{attrs:{md:14}},[a("el-button",{staticClass:"r",staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:function(t){return e.openDirectDialog()}}},[a("i",{staticClass:"el-icon-document el-icon--left"}),e._v("操作指引")]),a("el-button",{staticClass:"r",attrs:{type:"danger",disabled:0==e.multipleSelection.length},on:{click:function(t){return e.handleDelete()}}},[a("i",{staticClass:"el-icon-delete el-icon--left"}),e._v("删除")]),a("el-button",{staticClass:"r",attrs:{type:"primary"},on:{click:function(t){return e.getData()}}},[a("i",{staticClass:"el-icon-refresh el-icon--left"}),e._v("刷新")]),a("el-button",{staticClass:"r",attrs:{type:"success"},on:{click:function(t){return e.addAudioPlaybill()}}},[a("i",{staticClass:"el-icon-plus el-icon--left"}),e._v("添加")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,"row-key":e.getRowKeys,height:e.tableHeight,align:"center"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection","reserve-selection":!0,width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"programName",label:"节目单名字",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"programDetail",label:"节目明细",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"beginTime",label:"开始时间",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"endTime",label:"结束时间",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"loopCount",label:"循环次数",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"round",label:"播放周期",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return["0"===t.row.playCycle?a("p",[e._v("单次")]):e._e(),"1"===t.row.playCycle?a("p",[e._v("每天")]):e._e(),"2"===t.row.playCycle?a("p",[e._v("自定义")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"volume",label:"音量",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"操作",width:"280",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"===t.row.auditFlag?a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]):e._e(),"1"===t.row.auditFlag?a("el-button",{attrs:{type:"text",icon:"el-icon-files"},on:{click:function(a){return e.handleConfig(t.$index,t.row)}}},[e._v("配置下发对象")]):e._e(),"1"===t.row.auditFlag?a("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")]):e._e(),"2"===t.row.auditFlag?a("el-button",{staticClass:"green",attrs:{type:"text",icon:"el-icon-reading"},on:{click:function(a){return e.handleApprove(t.$index,t.row)}}},[e._v("待审批")]):e._e(),"0"===t.row.auditFlag?a("p",[e._v("审批中")]):e._e()]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.totalCount},on:{"current-change":e.handleCurrentChange}})],1)],1),a("audio-playbill-add-dialog",{attrs:{updataTable:e.updataTable,EDIT:e.audioPlaybillAddDialog.edit,datas:e.audioPlaybillAddDialog.data,title:e.audioPlaybillAddDialog.title,show:e.audioPlaybillAddDialog.visible},on:{"update:show":function(t){return e.$set(e.audioPlaybillAddDialog,"visible",t)}}}),a("playbill-approve-dialog",{attrs:{updataTable:e.updataTable,datas:e.playbillApproveDialog.data,show:e.playbillApproveDialog.visible},on:{"update:show":function(t){return e.$set(e.playbillApproveDialog,"visible",t)}}}),a("playbill-add-direct-dialog",{attrs:{updataTable:e.updataTable,datas:e.playbillDirectDialog.data,show:e.playbillDirectDialog.visible},on:{"update:show":function(t){return e.$set(e.playbillDirectDialog,"visible",t)}}}),a("playbill-config-dialog",{attrs:{EDIT:e.playbillConfigDialog.edit,datas:e.playbillConfigDialog.data,title:e.playbillConfigDialog.title,show:e.playbillConfigDialog.visible},on:{"update:show":function(t){return e.$set(e.playbillConfigDialog,"visible",t)}}})],1)},A=[],$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.visible,width:"75%"},on:{"update:visible":function(t){e.visible=t},close:function(t){return e.closeDialog()}}},[a("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:e.dialogLoading,expression:"dialogLoading"}],model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"节目单信息",name:"info"}},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,"label-width":"100px",rules:e.rules,"show-message":!1}},[a("el-form-item",{attrs:{label:"节目单名字",prop:"playbillName"}},[a("el-input",{attrs:{maxlength:"10","show-word-limit":"",placeholder:"输入10个字符长度以内的名称"},model:{value:e.form.playbillName,callback:function(t){e.$set(e.form,"playbillName",t)},expression:"form.playbillName"}})],1),a("el-form-item",{attrs:{label:"音量设置",prop:"voiceLevelValue"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.voiceLevelValue,callback:function(t){e.$set(e.form,"voiceLevelValue",t)},expression:"form.voiceLevelValue"}},e._l(e.voiceLevelOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"前导音开关",prop:"guideSwitch"}},[a("el-switch",{model:{value:e.form.guideSwitch,callback:function(t){e.$set(e.form,"guideSwitch",t)},expression:"form.guideSwitch"}})],1),a("transition",{attrs:{name:"el-fade-in-linear"}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.form.guideSwitch,expression:"form.guideSwitch"}],attrs:{prop:"guideAudioValue",label:"前导音"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.guideAudioValue,callback:function(t){e.$set(e.form,"guideAudioValue",t)},expression:"form.guideAudioValue"}},e._l(e.guideAudioOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-form-item",{attrs:{label:"时间范围",prop:"playbillTimeValue"}},[a("el-time-picker",{attrs:{"is-range":"","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:e.form.playbillTimeValue,callback:function(t){e.$set(e.form,"playbillTimeValue",t)},expression:"form.playbillTimeValue"}})],1),a("el-form-item",{attrs:{label:"是否循环",prop:"roundSwitch"}},[a("el-switch",{model:{value:e.form.roundSwitch,callback:function(t){e.$set(e.form,"roundSwitch",t)},expression:"form.roundSwitch"}})],1),a("transition",{attrs:{name:"el-fade-in-linear"}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.form.roundSwitch,expression:"form.roundSwitch"}],attrs:{prop:"roundCount",label:"循环次数"}},[a("el-input",{attrs:{placeholder:"输入正整数"},nativeOn:{keyup:function(t){return e.number(t)}},model:{value:e.form.roundCount,callback:function(t){e.$set(e.form,"roundCount",t)},expression:"form.roundCount"}})],1)],1),a("el-form-item",{attrs:{label:"播放周期",prop:"radio"}},[a("el-radio",{attrs:{label:"0"},model:{value:e.form.radio,callback:function(t){e.$set(e.form,"radio",t)},expression:"form.radio"}},[e._v("单次")]),a("el-radio",{attrs:{label:"1"},model:{value:e.form.radio,callback:function(t){e.$set(e.form,"radio",t)},expression:"form.radio"}},[e._v("每次")]),a("el-radio",{attrs:{label:"2"},model:{value:e.form.radio,callback:function(t){e.$set(e.form,"radio",t)},expression:"form.radio"}},[e._v("自定义")])],1),a("transition",{attrs:{name:"el-fade-in-linear"}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"2"===e.form.radio,expression:"form.radio === '2'"}],attrs:{prop:"checkList",label:"自定义"}},[a("el-checkbox-group",{model:{value:e.form.checkList,callback:function(t){e.$set(e.form,"checkList",t)},expression:"form.checkList"}},[a("el-checkbox",{attrs:{label:"周一"}}),a("el-checkbox",{attrs:{label:"周二"}}),a("el-checkbox",{attrs:{label:"周三"}}),a("el-checkbox",{attrs:{label:"周四"}}),a("el-checkbox",{attrs:{label:"周五"}}),a("el-checkbox",{attrs:{label:"周六"}}),a("el-checkbox",{attrs:{label:"周日"}})],1)],1)],1),a("transition",{attrs:{name:"el-fade-in-linear"}},[a("el-form-item",{attrs:{prop:"playbillDateValue",label:"日期范围"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:e.form.playbillDateValue,callback:function(t){e.$set(e.form,"playbillDateValue",t)},expression:"form.playbillDateValue"}})],1)],1)],1)],1),a("el-tab-pane",{attrs:{label:"节目明细",name:"detail"}},[a("div",{staticClass:"table",staticStyle:{"margin-bottom":"12px"}},[a("div",{staticClass:"container-tab"},[a("el-row",{staticClass:"handle-box",attrs:{gutter:10}},[a("el-col",{attrs:{md:24}},[a("el-button",{staticClass:"r",staticStyle:{"margin-left":"10px"},attrs:{type:"danger",disabled:0==e.playbillSelection.length},on:{click:function(t){return e.handlePlaybillDelete()}}},[a("i",{staticClass:"el-icon-delete el-icon--left"}),e._v("移除")]),a("el-button",{staticClass:"r",attrs:{type:"success"},on:{click:function(t){return e.addChannel()}}},[a("i",{staticClass:"el-icon-plus el-icon--left"}),e._v("添加频道")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.playbillLoading,expression:"playbillLoading"}],ref:"playbillTable",staticClass:"table",attrs:{data:e.playbillData,height:e.noneBottomTableHeight,align:"center","show-summary":"","summary-method":e.getSummaries},on:{"selection-change":e.handlePlaybillSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"75",align:"center"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"audioName",label:"音频名字",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"audioOldName",label:"音频原名字",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"audioSize",label:"文件大小",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"audioMin",label:"音频长度",align:"center","show-overflow-tooltip":""}})],1)],1)])])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.comfirm()}}},[e._v("确 定")])],1)],1),a("playbill-channel-add-dialog",{attrs:{updataChannleTable:e.updataChannleTable,EDIT:e.playbillChannelAddDialog.edit,datas:e.playbillChannelAddDialog.data,title:e.playbillChannelAddDialog.title,show:e.playbillChannelAddDialog.visible},on:{"update:show":function(t){return e.$set(e.playbillChannelAddDialog,"visible",t)}}})],1)},S=[],N=(a("ac6a"),a("a481"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"添加频道",visible:e.visible,width:"70%"},on:{"update:visible":function(t){e.visible=t},close:function(t){return e.closeDialog()}}},[a("div",{staticClass:"table"},[a("div",{staticClass:"container-tab"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,height:e.tableHeight,"row-key":e.getRowKeys,align:"center"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection","reserve-selection":!0,width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"audioName",label:"音频名字",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"audioOldName",label:"音频原名字",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"audioMin",label:"音频长度",align:"center","show-overflow-tooltip":""}})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.totalCount},on:{"current-change":e.handleCurrentChange}})],1)],1)]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.comfirm()}}},[e._v("确定添加")])],1)])],1)}),T=[],M={name:"playbill-channel-add-dialog",data:function(){return{visible:this.show,loading:!1,pageSize:10,pageNum:1,totalCount:0,tableData:[],multipleSelection:[],didSelection:[]}},computed:{tableHeight:function(){return window.innerHeight-323>350?"350px":window.innerHeight-323+"px"}},props:{show:{type:Boolean,default:!1},EDIT:{type:Boolean},datas:{type:Array},updataChannleTable:{type:Function,default:null}},watch:{show:function(){var e=this;this.$nextTick(function(){void 0!==e.datas&&e.visible&&(e.didSelection=e.datas,e.getData())}),this.edit=this.EDIT,this.dialogTitle=this.title,this.visible=this.show}},created:function(){},methods:{comfirm:function(){var e=this.didSelection.concat(this.multipleSelection);this.updataChannleTable(e),this.visible=!1},getData:function(){var e=this,t={keyword:"",pageSize:this.pageSize,pageNum:this.pageNum};this.loading=!0,this.$api.audioManager.getAudioList(t).then(function(t){e.totalCount=t.total,e.tableData=t.list,e.defaultSelectRow(),e.loading=!1}).catch(function(t){e.loading=!1})},defaultSelectRow:function(){for(var e=[],t=0;t<this.didSelection.length;t++){for(var a=0,l=0;l<this.tableData.length;l++)if(this.didSelection[t].id===this.tableData[l].id){this.$refs.multipleTable.toggleRowSelection(this.tableData[l],!0),a=1;break}0===a&&e.push(didSelection[t])}this.didSelection=e},handleSelectionChange:function(e){this.multipleSelection=e},handleCurrentChange:function(e){this.pageNum=e,this.getData()},getRowKeys:function(e){return e.id},closeDialog:function(){this.cleanForm(),this.$emit("update:show",!1)},cleanForm:function(){this.tableData=[],this.$refs.multipleTable.clearSelection()}}},_=M,P=Object(c["a"])(_,N,T,!1,null,"73b2c27e",null),L=P.exports,V={name:"audio-playbill-add-dialog",components:{playbillChannelAddDialog:L},computed:{tableHeight:function(){return window.innerHeight-317>452?"452px":window.innerHeight-317+"px"},hasHeadTableHeight:function(){return window.innerHeight-419>350?"350px":window.innerHeight-419+"px"},noneBottomTableHeight:function(){return window.innerHeight-359>410?"410px":window.innerHeight-359+"px"},orgHeight:function(){return{height:window.innerHeight-319>450?"450px":window.innerHeight-319+"px"}}},data:function(){return{visible:this.show,activeName:"info",edit:this.EDIT,dialogTitle:this.title,dialogLoading:!1,form:{playbillId:"",playbillName:"",voiceLevelValue:"",guideSwitch:!0,guideAudioValue:"",playbillTimeValue:"",playbillDateValue:"",roundSwitch:!0,radio:"2",roundCount:"",checkList:["周一"]},guideAudioOptions:[],voiceLevelOptions:[],rules:{playbillName:[{required:!0}],voiceLevelValue:[{required:!0}],guideSwitch:[{required:!0}],guideAudioValue:[{required:!0}],playbillTimeValue:[{required:!0}],playbillDateValue:[{required:!0}],roundSwitch:[{required:!0}],radio:[{required:!0}],roundCount:[{required:!0}],checkList:[{required:!0}]},playbillData:[],playbillLoading:!1,playbillSelection:[],playbillChannelAddDialog:{visible:!1,title:"",edit:!1,data:[]}}},props:{show:{type:Boolean,default:!1},EDIT:{type:Boolean},datas:{type:Object},title:{type:String,default:""},updataTable:{type:Function,default:null}},watch:{show:function(){var e=this;this.$nextTick(function(){void 0!==e.datas&&e.datas!=={}?e.visible&&(e.form.playbillId=e.datas.id,e.getPlaybillDetail()):e.cleanForm()}),this.edit=this.EDIT,this.dialogTitle=this.title,this.visible=this.show,this.visible&&(this.getVoiceOptionsData(),this.getGuideAudioOptionsData())}},created:function(){},methods:{comfirm:function(){var e=this;if(!this.checkForm()){var t={programName:this.form.playbillName,programType:"1",beginTime:this.$dateUtils.getTimeStrValue(this.form.playbillTimeValue[0]),endTime:this.$dateUtils.getTimeStrValue(this.form.playbillTimeValue[1]),playCycle:this.form.radio,definedPlayWeek:"2"===this.form.radio?this.$dateUtils.getDefinedPlayWeekStrValue(this.form.checkList):[],definedBeginTime:this.$dateUtils.getDateStrValue(this.form.playbillDateValue[0]),definedEndTime:this.$dateUtils.getDateStrValue(this.form.playbillDateValue[1]),isLoop:!0===this.form.roundSwitch?"0":"1",loopCount:!0===this.form.roundSwitch?this.form.roundCount:"",hasLeading:!0===this.form.guideSwitch?"0":"1",audioId:!0===this.form.guideSwitch?this.form.guideAudioValue:"",volume:this.form.voiceLevelValue,pdList:this.getpdListString()};this.edit?(t.id=this.form.playbillId,this.$api.audioManager.updateAudioManagerPlaybill(t).then(function(t){e.visible=!1,e.$message.success("更新成功"),e.updataTable(!0)}).catch(function(t){e.$message.error("更新失败，请重试")})):this.$api.audioManager.addAudioManagerPlaybill(t).then(function(t){e.visible=!1,e.$message.success("添加成功"),e.updataTable(!0)}).catch(function(t){e.$message.error("添加失败，请重试")})}},getPlaybillDetail:function(){var e=this;this.dialogLoading=!0;var t={id:this.form.playbillId};this.$api.audioManager.getAudioManagerPlaybillDetail(t).then(function(t){e.$nextTick(function(){e.form={playbillId:t.row.id,playbillName:t.row.programName,voiceLevelValue:t.row.volume,guideSwitch:0===t.row.hasLeading,guideAudioValue:0===t.row.hasLeading?t.row.audioId:"",playbillTimeValue:e.$dateUtils.getTimeRangeArrValue(t.row.beginTime,t.row.endTime),playbillDateValue:e.$dateUtils.getDateRangeArrValue(t.row.definedBeginTime,t.row.definedEndTime),roundSwitch:0===t.row.hasLeading,roundCount:0===t.row.hasLeading?t.row.loopCount:"",radio:t.row.playCycle,checkList:"2"===t.row.playCycle?e.$dateUtils.getDefinedPlayWeekArrValue(e.datas.definedPlayWeek):[]},e.playbillData=t.row.pdList,e.dialogLoading=!1})}).catch(function(t){e.dialogLoading=!1,e.$message.error("加载节目单失败，请重试")})},getVoiceOptionsData:function(){var e=this;this.$api.getVoiceLevelOptions().then(function(t){e.voiceLevelOptions=t.list})},getGuideAudioOptionsData:function(){var e=this,t={keyword:"",pageSize:999,pageNum:1};this.$api.audioManager.getAudioManagerGuideOptions(t).then(function(t){for(var a=t.list,l=[],i=0;i<a.length;i++){var o=a[i],n={value:o.id,label:o.audioName};l.push(n)}e.guideAudioOptions=l}).catch(function(e){})},number:function(){this.form.roundCount=this.form.roundCount.replace(/[^\.\d]/g,""),this.form.roundCount=this.form.roundCount.replace(".","")},addChannel:function(){this.playbillChannelAddDialog={visible:!0,title:"",edit:!1,data:this.playbillData}},handlePlaybillSelectionChange:function(e){this.playbillSelection=e},handlePlaybillDelete:function(e,t){var a=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){for(var e=[],t=0;t<a.playbillData.length;t++){for(var l=0,i=0;i<a.playbillSelection.length;i++)if(a.playbillData[t].id===a.playbillSelection[i].id){l=1;break}0===l&&e.push(a.playbillData[t])}a.$refs.playbillTable.clearSelection(),a.playbillData=e}).catch(function(){})},updataChannleTable:function(e){this.playbillData=e},getSummaries:function(e){var t=e.columns,a=e.data,l=[];return t.forEach(function(e,t){if(0!==t)if(5!==t)l[t]="";else{var i=0;a.map(function(e){var t=e.audioMin.split(":"),a=60*parseInt(t[0])+parseInt(t[1]);i+=a});var o=Math.floor(i/60)<10?"0"+Math.floor(i/60):Math.floor(i/60),n=i%60<10?"0"+i%60:i%60;l[t]=o+":"+n}else l[t]="总时长"}),l},getpdListString:function(){for(var e="",t=0;t<this.playbillData.length;t++){var a=this.playbillData[t];e=e+a.id+","}return e},closeDialog:function(){this.cleanForm(),this.$emit("update:show",!1)},cleanForm:function(){this.form={playbillId:"",playbillName:"",voiceLevelValue:"",guideSwitch:!0,guideAudioValue:"",playbillTimeValue:"",playbillDateValue:"",roundSwitch:!0,radio:"2",roundCount:"",checkList:["周一"]},this.activeName="info",this.playbillData=[],this.$refs.playbillTable.clearSelection(),this.$refs["form"].resetFields()},checkForm:function(){return""===this.form.playbillName?(this.$message.error("请填写节目单名称"),!0):!0===this.form.guideSwitch&&""===this.form.guideAudioValue?(this.$message.error("请选择前导音"),!0):""===this.form.voiceLevelValue?(this.$message.error("请选择音量"),!0):""===this.form.playbillTimeValue?(this.$message.error("请选择时间范围"),!0):!0===this.form.roundSwitch&&0===this.form.roundCount.length?(this.$message.error("请输入循环次数"),!0):2===this.form.radio&&0===this.form.checkList.length?(this.$message.error("请选择自定义播放周期"),!0):""===this.form.playbillDateValue&&(this.$message.error("请选择日期范围"),!0)}}},F=V,R=(a("e6c2"),Object(c["a"])(F,$,S,!1,null,"27a3a33d",null)),O=R.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"审核节目单",visible:e.visible,width:"70%"},on:{"update:visible":function(t){e.visible=t},close:function(t){return e.$emit("update:show",!1)}}},[a("div",{staticClass:"table"},[a("div",{staticClass:"container-tab"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,height:"220px",align:"center"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"index",width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"programDetail",label:"音频名字",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-video-play"}},[e._v("播放")]),a("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:30},on:{"current-change":e.handleCurrentChange}})],1)],1)]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.reject()}}},[e._v("不通过")]),a("el-button",{attrs:{type:"success"},on:{click:function(t){return e.agree()}}},[e._v("通过")])],1)])],1)},B=[],E={name:"playbill-approve-dialog",data:function(){return{visible:this.show,tableData:[],loading:!1,cur_page:1,multipleSelection:[],form:{}}},props:{show:{type:Boolean,default:!1},EDIT:{type:String},datas:{type:Object}},watch:{show:function(){var e=this;void 0!==this.datas&&this.datas!=={}&&this.$nextTick(function(){e.form=e.datas}),this.visible=this.show,this.visible&&this.getData()}},created:function(){},methods:{comfirm:function(){this.visible=!1},reject:function(){this.visible=!1},agree:function(){this.visible=!1},handleSelectionChange:function(e){this.multipleSelection=e},handleCurrentChange:function(e){this.cur_page=e,this.getData()},getData:function(){var e=this;this.loading=!0,this.$api.audioManager.getPlaybillList().then(function(t){e.tableData=t.list,e.loading=!1}).catch(function(t){e.loading=!1})},handleDelete:function(e,t){var a=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$message({type:"success",message:"删除成功!"})}).catch(function(){})},addDevice:function(){}}},H=E,j=Object(c["a"])(H,I,B,!1,null,"2b013335",null),z=j.exports,U=a("52f4"),W=a("1ecc"),q={name:"audio-playbill-manager",components:{audioPlaybillAddDialog:O,playbillApproveDialog:z,playbillAddDirectDialog:U["a"],playbillConfigDialog:W["a"]},data:function(){return{tableData:[],pageSize:10,pageNum:1,totalCount:0,loading:!1,multipleSelection:[],selectWord:"",audioPlaybillAddDialog:{visible:!1,title:"",edit:!1,data:{}},playbillApproveDialog:{visible:!1,title:"",edit:!1,data:{}},playbillDirectDialog:{visible:!1,title:"",edit:!1,data:{}},playbillConfigDialog:{visible:!1,title:"",edit:!1,data:{}}}},created:function(){this.getData()},computed:{tableHeight:function(){return window.innerHeight-272+"px"}},methods:{handleCurrentChange:function(e){this.pageNum=e,this.getData()},getData:function(){var e=this,t={keyword:this.selectWord,pageSize:this.pageSize,pageNum:this.pageNum};this.loading=!0,this.$api.audioManager.getAudioManagerPlaybillList(t).then(function(t){e.totalCount=t.total,e.tableData=t.list,e.loading=!1}).catch(function(t){e.loading=!1})},updataTable:function(e){e&&(this.selectWord="",this.pageNum=1),this.getData()},search:function(){this.pageNum=1,this.getData()},handleEdit:function(e,t){this.audioPlaybillAddDialog={visible:!0,title:"编辑节目单",edit:!0,data:t}},handleConfig:function(e,t){this.playbillConfigDialog={visible:!0,title:"配置音频节目单下发对象",edit:!0,data:t}},handleApprove:function(e,t){this.playbillApproveDialog={visible:!0,title:"",edit:!1,data:t}},handleDelete:function(e,t){var a=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e="";if(t)e=t.id;else for(var l=0;l<a.multipleSelection.length;l++){var i=a.multipleSelection[l];e=e+i.id+","}a.deletePlaybill(e)}).catch(function(){})},deletePlaybill:function(e){var t=this,a={id:e};this.$api.audioManager.deletAudioManagerPlaybill(a).then(function(e){t.$refs.multipleTable.clearSelection(),1===t.tableData.length&&1!==t.pageNum&&t.pageNum--,t.$message.success("删除成功"),t.getData()}).catch(function(e){t.$message.error("删除失败，请重试")})},handleSelectionChange:function(e){this.multipleSelection=e},addAudioPlaybill:function(){this.audioPlaybillAddDialog={visible:!0,title:"添加节目单",edit:!1,data:void 0}},openDirectDialog:function(){this.playbillDirectDialog={visible:!0,title:"",edit:!1,data:void 0}},getRowKeys:function(e){return e.id}}},K=q,G=Object(c["a"])(K,x,A,!1,null,"0e83ee91",null),J=G.exports,Q={name:"tabs",data:function(){return{activeName:"channel"}},components:{audioChannelManager:k,audioPlaybillManager:J},methods:{},computed:{}},X=Q,Y=Object(c["a"])(X,l,i,!1,null,null,null);t["default"]=Y.exports},a207:function(e,t,a){},e6c2:function(e,t,a){"use strict";var l=a("4773"),i=a.n(l);i.a}}]);