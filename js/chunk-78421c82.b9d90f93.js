(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78421c82"],{"311b":function(e,t,i){},5460:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"table"},[i("div",{staticClass:"warn-carousel"},[i("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.warnLoading,expression:"warnLoading"}],staticStyle:{height:"60px"}},e._l(e.warningData,function(t){return i("el-col",{key:t.id,attrs:{span:3}},[i("div",{staticClass:"monitoring-carousel-item",on:{click:function(t){return e.openUnusualDetailDialog()}}},[i("p",{staticClass:"monitoring-count"},[e._v(e._s(t.warnNum))]),i("div",{staticClass:"monitoring-title"},[i("span",{staticClass:"layui-badge-dot layui-bg-orange"}),e._v("\n                        "+e._s(t.warnTitle)+"\n                    ")])])])}),1)],1),i("div",{staticClass:"container"},[i("el-row",{staticClass:"handle-box",attrs:{gutter:10}},[i("el-col",{attrs:{md:4}},[i("el-cascader",{attrs:{options:e.areaOptions,clearable:"",filterable:"",placeholder:"搜索或选择机构"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,l=t.data;return[i("span",[e._v(e._s(l.label))]),a.isLeaf?e._e():i("span",[e._v(" ("+e._s(l.children.length)+") ")])]}}]),model:{value:e.areaValue,callback:function(t){e.areaValue=t},expression:"areaValue"}})],1),i("el-col",{attrs:{md:4}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"搜索或选择标签"},model:{value:e.tipValue,callback:function(t){e.tipValue=t},expression:"tipValue"}},e._l(e.tipOptions,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),i("el-col",{attrs:{md:6}},[i("el-input",{staticClass:" mr10",attrs:{placeholder:"分组/用户名/IMEI/电话"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.selectWord,callback:function(t){e.selectWord=t},expression:"selectWord"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.search},slot:"append"},[e._v("搜索")])],1)],1),i("el-col",{attrs:{md:10}},[i("el-button",{staticClass:"r",staticStyle:{"margin-left":"10px"},attrs:{type:"danger",disabled:0==e.multipleSelection.length},on:{click:function(t){return e.handleDelete()}}},[i("i",{staticClass:"el-icon-delete el-icon--left"}),e._v("删除")]),i("el-button",{staticClass:"r",attrs:{type:"primary",disabled:1!=e.multipleSelection.length},on:{click:function(t){return e.openWhileList()}}},[i("i",{staticClass:"el-icon-upload el-icon--left"}),e._v("白名单管理")])],1)],1),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,height:e.tableHeight,align:"center"},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55",align:"center","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"id",label:"ID",width:"100",align:"center","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"imei",label:"IMEI",align:"center","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"username",label:"用户名",align:"center","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"address",label:"地址",align:"center","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"phone",label:"电话号码",align:"center","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"状态",width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["true"===t.row.status?i("i",{staticClass:"success-icon el-icon-check "}):e._e(),"false"===t.row.status?i("i",{staticClass:"fail-icon el-icon-close "}):e._e()]}}])}),i("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(i){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),i("el-button",{staticClass:"green",attrs:{type:"text",icon:"el-icon-truck"},on:{click:function(i){return e.handleRepair(t.$index,t.row)}}},[e._v("报修")])]}}])})],1),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:30},on:{"current-change":e.handleCurrentChange}})],1)],1),i("unusual-list-dialog",{attrs:{show:e.unusualListDialogVisible},on:{"update:show":function(t){e.unusualListDialogVisible=t}}}),i("device-detail-dialog",{attrs:{title:e.deviceDialogTitle,show:e.deviceDetailDialogVisible},on:{"update:show":function(t){e.deviceDetailDialogVisible=t}}}),i("while-list-dialog",{attrs:{show:e.whileListDialogVisible},on:{"update:show":function(t){e.whileListDialogVisible=t}}}),i("device-repair-dialog",{attrs:{show:e.deviceRepairDialogVisible},on:{"update:show":function(t){e.deviceRepairDialogVisible=t}}})],1)},l=[],o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-dialog",{attrs:{title:"异常列表",visible:e.visible,width:"80%"},on:{"update:visible":function(t){e.visible=t},close:function(t){return e.$emit("update:show",!1)}}},[i("div",{staticClass:"table"},[i("div",{staticClass:"container-tab"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,height:e.tableHeight,align:"center"},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"index",width:"55",align:"center","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"id",label:"ID",width:"100",align:"center","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"imei",label:"IMEI",align:"center","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"username",label:"用户名",align:"center","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"address",label:"地址",align:"center","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"phone",label:"电话号码",align:"center","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"状态",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return["true"===t.row.status?i("i",{staticClass:"success-icon el-icon-check "}):e._e(),"false"===t.row.status?i("i",{staticClass:"fail-icon el-icon-close "}):e._e()]}}])}),i("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",icon:"el-icon-view"},on:{click:function(i){return e.handleDetail(t.$index,t.row)}}},[e._v("详情")]),i("el-button",{staticClass:"green",attrs:{type:"text",icon:"el-icon-truck"},on:{click:function(i){return e.handleRepair(t.$index,t.row)}}},[e._v("报修")])]}}])})],1),i("div",{staticClass:"pagination"},[i("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:30},on:{"current-change":e.handleCurrentChange}})],1)],1)]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.comfirm()}}},[e._v("确 定")])],1)]),i("device-detail-dialog",{attrs:{title:"设备详情",show:e.deviceDetailDialogVisible},on:{"update:show":function(t){e.deviceDetailDialogVisible=t}}}),i("device-repair-dialog",{attrs:{show:e.deviceRepairDialogVisible},on:{"update:show":function(t){e.deviceRepairDialogVisible=t}}})],1)},n=[],s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-dialog",{attrs:{title:e.dialogTitle,visible:e.visible,width:"60%"},on:{"update:visible":function(t){e.visible=t},close:function(t){return e.closeDialog()}}},[i("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"设备信息",name:"device"}},[i("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"show-message":!1,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"IMEI"}},[i("el-input",{attrs:{readonly:""},model:{value:e.form.imei,callback:function(t){e.$set(e.form,"imei",t)},expression:"form.imei"}})],1),i("el-form-item",{attrs:{label:"设备SIM卡",prop:"sim"}},[i("el-input",{model:{value:e.form.sim,callback:function(t){e.$set(e.form,"sim",t)},expression:"form.sim"}})],1),i("el-form-item",{attrs:{label:"安装时间"}},[i("el-input",{attrs:{readonly:""},model:{value:e.form.setupTime,callback:function(t){e.$set(e.form,"setupTime",t)},expression:"form.setupTime"}})],1),i("el-form-item",{attrs:{label:"安装人员"}},[i("el-input",{attrs:{readonly:""},model:{value:e.form.setupMenber,callback:function(t){e.$set(e.form,"setupMenber",t)},expression:"form.setupMenber"}})],1),"添加设备"!==e.dialogTitle?i("el-form-item",{attrs:{label:"现场图片"}},[i("div",{staticClass:"image-box"},[i("img",{staticClass:"locale-image",attrs:{src:"",alt:""}})])]):e._e(),i("el-form-item",{attrs:{label:"生命周期"}},[i("el-timeline",{staticStyle:{margin:"12px"}},e._l(e.activities,function(t,a){return i("el-timeline-item",{key:a,attrs:{timestamp:t.timestamp}},[e._v("\n                            "+e._s(t.content)+"\n                            ")])}),1)],1)],1)],1),i("el-tab-pane",{attrs:{label:"用户信息",name:"user"}},[i("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"show-message":!1,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"姓名",prop:"userName"}},[i("el-input",{model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),i("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[i("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),i("el-form-item",{attrs:{label:"身份证",prop:"cardID"}},[i("el-input",{model:{value:e.form.cardID,callback:function(t){e.$set(e.form,"cardID",t)},expression:"form.cardID"}})],1),i("el-form-item",{attrs:{label:"家庭地址",prop:"homeAreaValue"}},[i("el-cascader",{attrs:{options:e.areaOptions},model:{value:e.form.homeAreaValue,callback:function(t){e.$set(e.form,"homeAreaValue",t)},expression:"form.homeAreaValue"}})],1),i("el-form-item",{attrs:{label:"详细地址",prop:"address"}},[i("el-input",{model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),i("el-form-item",{attrs:{label:"所属机构",prop:"areaValue"}},[i("el-cascader",{attrs:{options:e.areaOptions},model:{value:e.form.areaValue,callback:function(t){e.$set(e.form,"areaValue",t)},expression:"form.areaValue"}})],1),i("el-form-item",{attrs:{label:"标签",prop:"tipStr"}},[i("el-input",{attrs:{placeholder:"",readonly:""},model:{value:e.form.tipStr,callback:function(t){e.$set(e.form,"tipStr",t)},expression:"form.tipStr"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-edit"},on:{click:function(t){return e.openTipsEdit()}},slot:"append"})],1)],1)],1)],1),"添加设备"!==e.dialogTitle?i("el-tab-pane",{attrs:{label:"设备状态",name:"unusual"}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.statusLoading,expression:"statusLoading"}],ref:"statusTable",staticClass:"table",attrs:{data:e.statusData,height:"200",align:"center"}},[i("el-table-column",{attrs:{label:"连接异常",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["true"===t.row.connetStatus?i("i",{staticClass:"success-icon el-icon-check "}):e._e(),"false"===t.row.connetStatus?i("i",{staticClass:"fail-icon el-icon-close "}):e._e()]}}],null,!1,4084092302)}),i("el-table-column",{attrs:{label:"供电异常",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["true"===t.row.provideStatus?i("i",{staticClass:"success-icon el-icon-check "}):e._e(),"false"===t.row.provideStatus?i("i",{staticClass:"fail-icon el-icon-close "}):e._e()]}}],null,!1,4219602638)}),i("el-table-column",{attrs:{label:"防拆异常",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["true"===t.row.excreteStatus?i("i",{staticClass:"success-icon el-icon-check "}):e._e(),"false"===t.row.excreteStatus?i("i",{staticClass:"fail-icon el-icon-close "}):e._e()]}}],null,!1,4137762958)}),i("el-table-column",{attrs:{label:"信号异常",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["true"===t.row.signalStatus?i("i",{staticClass:"success-icon el-icon-check "}):e._e(),"false"===t.row.signalStatus?i("i",{staticClass:"fail-icon el-icon-close "}):e._e()]}}],null,!1,3823648366)}),i("el-table-column",{attrs:{label:"音量异常",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["true"===t.row.voiceStatus?i("i",{staticClass:"success-icon el-icon-check "}):e._e(),"false"===t.row.voiceStatus?i("i",{staticClass:"fail-icon el-icon-close "}):e._e()]}}],null,!1,301689102)}),i("el-table-column",{attrs:{label:"电压异常",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["true"===t.row.tensionStatus?i("i",{staticClass:"success-icon el-icon-check "}):e._e(),"false"===t.row.tensionStatus?i("i",{staticClass:"fail-icon el-icon-close "}):e._e()]}}],null,!1,1667940110)}),i("el-table-column",{attrs:{label:"电量异常",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["true"===t.row.powerStatus?i("i",{staticClass:"success-icon el-icon-check "}):e._e(),"false"===t.row.powerStatus?i("i",{staticClass:"fail-icon el-icon-close "}):e._e()]}}],null,!1,1850857422)}),i("el-table-column",{attrs:{label:"防移异常",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["true"===t.row.moveStatus?i("i",{staticClass:"success-icon el-icon-check "}):e._e(),"false"===t.row.moveStatus?i("i",{staticClass:"fail-icon el-icon-close "}):e._e()]}}],null,!1,3167742734)})],1)],1):e._e()],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.comfirm()}}},[e._v("确 定")])],1)],1),i("device-tips-dialog",{attrs:{show:e.deviceTipsDialogVisible},on:{"update:show":function(t){e.deviceTipsDialogVisible=t}}})],1)},r=[],c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-dialog",{staticStyle:{"text-align":"center"},attrs:{title:"编辑标签",visible:e.visible,width:"600px"},on:{"update:visible":function(t){e.visible=t},close:function(t){return e.$emit("update:show",!1)}}},[i("el-transfer",{staticStyle:{"text-align":"left",display:"inline-block","margin-bottom":"12px"},attrs:{filterable:"","left-default-checked":[],"right-default-checked":[],"render-content":e.renderFunc,titles:["可选标签","已有标签"],"button-texts":["移除","添加"],format:{noChecked:"${total}",hasChecked:"${checked}/${total}"},data:e.data},on:{change:e.handleChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.comfirm()}}},[e._v("确 定")])],1)],1)],1)},u=[],d={name:"device-tips-dialog",data:function(){this.$createElement;var e=function(e){for(var t=[],i=1;i<=15;i++)t.push({key:i,label:"备选项 ".concat(i)});return t};return{visible:this.show,data:e(),value:[1],value4:[1],renderFunc:function(e,t){return e("span",[t.key," - ",t.label])}}},props:{show:{type:Boolean,default:!1},EDIT:{type:String},datas:{type:Object}},watch:{show:function(){console.log(this.datas),this.form=this.datas,this.visible=this.show}},created:function(){},methods:{comfirm:function(){this.visible=!1},handleChange:function(e,t,i){console.log(e,t,i)}}},p=d,f=i("2877"),h=Object(f["a"])(p,c,u,!1,null,null,null),m=h.exports,b={name:"device-detail-dialog",components:{deviceTipsDialog:m},data:function(){return{visible:this.show,edit:this.edit,dialogTitle:this.title,activeName:"device",form:{imei:"",sim:"",setupTime:"",setupMenber:"",userName:"",phone:"",cardID:"",address:"",tipStr:"",areaValue:"",homeAreaValue:""},areaOptions:[],activities:[{content:"活动按期开始",timestamp:"2018-04-15"},{content:"通过审核",timestamp:"2018-04-13"},{content:"创建成功",timestamp:"2018-04-11"}],deviceTipsDialogVisible:!1,statusData:[{connetStatus:"true",provideStatus:"true",excreteStatus:"false",signalStatus:"true",voiceStatus:"true",tensionStatus:"true",powerStatus:"true",moveStatus:"true"}],statusLoading:!1,rules:{userName:[{required:!0}],phone:[{required:!0}],cardID:[{required:!0}],address:[{required:!0}],tipStr:[{required:!0}],homeAreaValue:[{required:!0}],areaValue:[{required:!0}],sim:[{required:!0}]}}},props:{show:{type:Boolean,default:!1},EDIT:{type:String},datas:{type:Object},title:{type:String,default:""}},watch:{show:function(){var e=this;void 0!==this.datas&&this.datas!=={}&&this.$nextTick(function(){e.form=e.datas}),this.dialogTitle=this.title,this.edit=this.EDIT,this.visible=this.show,this.visible&&this.getAreaOptionsData()}},created:function(){},methods:{comfirm:function(){this.visible=!1},getAreaOptionsData:function(){var e=this;this.$api.getAreaOptions().then(function(t){e.areaOptions=t.list})},openTipsEdit:function(){this.deviceTipsDialogVisible=!0},closeDialog:function(){this.form={imei:"",sim:"",setupTime:"",setupMenber:"",userName:"",phone:"",cardID:"",address:"",tipStr:"",areaValue:"",homeAreaValue:""},this.$refs["form"].resetFields(),this.activeName="device",this.$emit("update:show",!1)}}},g=b,v=(i("75cf"),Object(f["a"])(g,s,r,!1,null,"892da8f0",null)),w=v.exports,D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-dialog",{attrs:{title:"报修",visible:e.visible,width:"60%"},on:{"update:visible":function(t){e.visible=t},close:function(t){return e.closeDialog()}}},[i("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules,"show-message":!1,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"报修类型",prop:"repairValue"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.repairValue,callback:function(t){e.$set(e.form,"repairValue",t)},expression:"form.repairValue"}},e._l(e.repairOptions,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),i("el-form-item",{attrs:{label:"故障类型",prop:"checkList"}},[i("el-checkbox-group",{model:{value:e.form.checkList,callback:function(t){e.$set(e.form,"checkList",t)},expression:"form.checkList"}},[i("el-checkbox",{attrs:{label:"电量异常"}}),i("el-checkbox",{attrs:{label:"信号异常"}}),i("el-checkbox",{attrs:{label:"电压异常"}}),i("el-checkbox",{attrs:{label:"其他"}})],1)],1),i("el-form-item",{attrs:{label:"故障描述",prop:"textarea"}},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:5,maxRows:6},placeholder:"请具体描述问题，100个字符长度以内",maxlength:"100","show-word-limit":""},model:{value:e.form.textarea,callback:function(t){e.$set(e.form,"textarea",t)},expression:"form.textarea"}})],1),i("el-form-item",{attrs:{label:"添加图片"}},[i("el-upload",{attrs:{action:"","list-type":"picture-card","on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove}},[i("i",{staticClass:"el-icon-plus"})])],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.comfirm()}}},[e._v("确 定")])],1)],1)],1)},k=[],x={name:"edit-group-dialog",data:function(){return{visible:this.show,form:{repairValue:"",checkList:["电量异常"],textarea:""},repairOptions:[],rules:{repairValue:[{required:!0}],checkList:[{required:!0}],textarea:[{required:!0}]}}},props:{show:{type:Boolean,default:!1},EDIT:{type:String},datas:{type:Object}},watch:{show:function(){var e=this;void 0!==this.datas&&this.datas!=={}&&this.$nextTick(function(){e.form=e.datas}),this.visible=this.show}},created:function(){this.getRepairOptionsData()},methods:{comfirm:function(){this.visible=!1},getRepairOptionsData:function(){var e=this;this.$axios.get("./options-data/repair-options.json").then(function(t){e.repairOptions=t.data.list})},handleRemove:function(e,t){console.log(e,t)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},closeDialog:function(){this.form={repairValue:"",checkList:["电量异常"],textarea:""},this.$refs["form"].resetFields(),this.$emit("update:show",!1)}}},_=x,y=Object(f["a"])(_,D,k,!1,null,null,null),C=y.exports,S={name:"unusual-list-dialog",components:{deviceDetailDialog:w,deviceRepairDialog:C},data:function(){return{visible:this.show,tableData:[],loading:!1,form:{},url:"./mock-data/device-monitoring.json",cur_page:1,multipleSelection:[],idx:-1,deviceDetailDialogVisible:!1,deviceRepairDialogVisible:!1}},computed:{tableHeight:function(){return window.innerHeight-323>350?"350px":window.innerHeight-323+"px"}},props:{show:{type:Boolean,default:!1},EDIT:{type:String},datas:{type:Object}},watch:{show:function(){var e=this;void 0!==this.datas&&this.datas!=={}&&this.$nextTick(function(){e.form=e.datas}),this.visible=this.show,this.visible&&this.getData()}},created:function(){},methods:{comfirm:function(){this.visible=!1},handleSelectionChange:function(e){this.multipleSelection=e},handleCurrentChange:function(e){this.cur_page=e,this.getData()},getData:function(){var e=this;this.loading=!0,this.$api.deviceMonitoring.getUnusualDetailList().then(function(t){e.tableData=t.list,e.loading=!1}).catch(function(t){e.loading=!1})},handleDetail:function(e,t){this.deviceDetailDialogVisible=!0},handleRepair:function(e,t){this.deviceRepairDialogVisible=!0}}},V=S,$=Object(f["a"])(V,o,n,!1,null,null,null),T=$.exports,O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-dialog",{attrs:{title:"白名单管理",visible:e.visible,width:"70%"},on:{"update:visible":function(t){e.visible=t},close:function(t){return e.$emit("update:show",!1)}}},[i("div",{staticClass:"table",staticStyle:{"padding-bottom":"12px"}},[i("div",{staticClass:"container-tab"},[i("el-row",{staticClass:"handle-box",attrs:{gutter:10}},[i("el-col",{attrs:{md:24}},[i("el-button",{staticClass:"r",staticStyle:{"margin-left":"10px"},attrs:{type:"danger",disabled:0==e.multipleSelection.length},on:{click:function(t){return e.handleDelete()}}},[i("i",{staticClass:"el-icon-delete el-icon--left"}),e._v("删除")]),i("el-button",{staticClass:"r",attrs:{type:"primary"}},[i("i",{staticClass:"el-icon-refresh el-icon--left"}),e._v("刷新")]),i("el-button",{staticClass:"r",attrs:{type:"success"},on:{click:function(t){return e.addDevice()}}},[i("i",{staticClass:"el-icon-plus el-icon--left"}),e._v("添加")])],1)],1),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,height:e.tableHeight,align:"center"},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),i("el-table-column",{attrs:{prop:"name",label:"姓名",align:"center","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"phone",label:"联系电话",align:"center","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(i){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1)]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.comfirm()}}},[e._v("确 定")])],1)]),i("el-dialog",{attrs:{title:"添加白名单",visible:e.menberDialogVisible,width:"400px"},on:{"update:visible":function(t){e.menberDialogVisible=t},close:function(t){return e.closeFormDialog()}}},[i("el-form",{ref:"addForm",staticClass:"form",attrs:{model:e.addForm,rules:e.addRules,"show-message":!1,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"姓名",prop:"userName"}},[i("el-input",{model:{value:e.addForm.userName,callback:function(t){e.$set(e.addForm,"userName",t)},expression:"addForm.userName"}})],1),i("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[i("el-input",{model:{value:e.addForm.phone,callback:function(t){e.$set(e.addForm,"phone",t)},expression:"addForm.phone"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.menberDialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.comfirmAddMenber()}}},[e._v("确 定")])],1)],1)],1)},L=[],I={name:"while-list-dialog",data:function(){return{visible:this.show,tableData:[],loading:!1,form:{},addForm:{userName:"",phone:""},cur_page:1,multipleSelection:[],menberDialogVisible:!1,addRules:{userName:[{required:!0}],phone:[{required:!0}]}}},computed:{tableHeight:function(){return window.innerHeight-305>350?"350px":window.innerHeight-305+"px"}},props:{show:{type:Boolean,default:!1},EDIT:{type:String},datas:{type:Object}},watch:{show:function(){var e=this;void 0!==this.datas&&this.datas!=={}&&this.$nextTick(function(){e.form=e.datas}),this.visible=this.show,this.visible&&this.getData()}},created:function(){},methods:{comfirm:function(){this.visible=!1},comfirmAddMenber:function(){this.menberDialogVisible=!1},handleSelectionChange:function(e){this.multipleSelection=e},handleCurrentChange:function(e){this.cur_page=e,this.getData()},getData:function(){var e=this;this.loading=!0,this.$api.deviceMonitoring.getWhiteList().then(function(t){e.tableData=t.list,e.loading=!1}).catch(function(t){e.loading=!1})},handleDelete:function(e,t){var i=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.$message({type:"success",message:"删除成功!"})}).catch(function(){})},addDevice:function(){this.menberDialogVisible=!0},closeFormDialog:function(){this.addForm={userName:"",phone:""},this.$refs["addForm"].resetFields()}}},N=I,E=Object(f["a"])(N,O,L,!1,null,null,null),R=E.exports,F={name:"device-monitoring",components:{unusualListDialog:T,deviceDetailDialog:w,whileListDialog:R,deviceRepairDialog:C},data:function(){return{url:"./mock-data/device-monitoring.json",tableData:[],loading:!1,warnLoading:!1,cur_page:1,multipleSelection:[],idx:-1,selectWord:"",warningData:[],areaOptions:[],areaValue:"",tipValue:"",tipOptions:[],unusualListDialogVisible:!1,deviceDetailDialogVisible:!1,whileListDialogVisible:!1,deviceRepairDialogVisible:!1,deviceDialogTitle:""}},created:function(){this.getData(),this.getWarningData(),this.getAreaOptionsData(),this.getTipOptionsData()},computed:{tableHeight:function(){return window.innerHeight-283+"px"}},methods:{handleCurrentChange:function(e){this.cur_page=e,this.getData()},getData:function(){var e=this;this.loading=!0,this.$api.deviceMonitoring.getMonitoringList().then(function(t){e.tableData=t.list,e.loading=!1}).catch(function(t){e.loading=!1})},getWarningData:function(){var e=this;this.warnLoading=!0,this.$api.deviceMonitoring.getUnusualList().then(function(t){e.warningData=t.list,e.warnLoading=!1}).catch(function(t){e.warnLoading=!1})},getAreaOptionsData:function(){var e=this;this.$api.getAreaOptions().then(function(t){e.areaOptions=t.list})},getTipOptionsData:function(){var e=this;this.$api.getTipsOptions().then(function(t){e.tipOptions=t.list})},handleEdit:function(e,t){this.idx=e,this.deviceDialogTitle="编辑设备",this.deviceDetailDialogVisible=!0},handleDelete:function(e,t){var i=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.$message({type:"success",message:"删除成功!"})}).catch(function(){})},handleSelectionChange:function(e){this.multipleSelection=e},openUnusualDetailDialog:function(){this.unusualListDialogVisible=!0},openWhileList:function(){this.whileListDialogVisible=!0},handleRepair:function(e,t){this.deviceRepairDialogVisible=!0},search:function(e){this.getData(),this.getWarningData()},addDevice:function(){this.deviceDialogTitle="添加设备",this.deviceDetailDialogVisible=!0}}},M=F,j=(i("93eb"),Object(f["a"])(M,a,l,!1,null,"15647d38",null));t["default"]=j.exports},"75cf":function(e,t,i){"use strict";var a=i("311b"),l=i.n(a);l.a},"8b57":function(e,t,i){},"93eb":function(e,t,i){"use strict";var a=i("8b57"),l=i.n(a);l.a}}]);